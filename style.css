/*
  style.css
  This is the single, unified stylesheet for the entire "Society Poems" website.
  It ensures a consistent and professional look and feel across all pages.
  The styling is organized logically with global resets, CSS variables for theming,
  and specific rules for components like the header, forms, and content sections.
*/

/* General Imports and Resets */
@import url("https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap");
@import url("https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css");

/* A universal reset to ensure consistent box-sizing and remove default margins/paddings. */
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
  font-family: "Poppins", sans-serif;
}

/* Root CSS Variables with New Color Scheme */
:root {
  /* New Color Palette */
  --primary-color: #1a5db4; /* Blue accent for buttons, links */
  --primary-hover: #1548a0; /* Darker blue for hover states */
  --primary-light: #2b6bc5; /* Lighter blue for subtle accents */

  --dark-bg: #0c050d; /* Very dark background */
  --secondary-bg: #393231; /* Warm dark gray for cards */
  --tertiary-bg: #4a4548; /* Slightly lighter for hover states */

  --text-primary: #fffffe; /* Pure white for main text */
  --text-secondary: #57565b; /* Medium gray for secondary text */
  --text-muted: #6b696e; /* Lighter gray for muted text */

  --border-color: #57565b; /* Medium gray for borders */
  --border-light: #6b696e; /* Lighter borders */

  --success-color: #22c55e; /* Green for success messages */
  --error-color: #ef4444; /* Red for error messages */
  --warning-color: #f59e0b; /* Orange for warnings */

  --success-bg: rgba(34, 197, 94, 0.1);
  --error-bg: rgba(239, 68, 68, 0.1);
  --warning-bg: rgba(245, 158, 11, 0.1);

  /* Typography */
  --font-size-s: 0.9rem;
  --font-size-n: 1rem;
  --font-size-m: 1.12rem;
  --font-size-l: 1.5rem;
  --font-size-xl: 2rem;
  --font-size-xxl: 2.3rem;
  --font-weight-normal: 400;
  --font-weight-medium: 500;
  --font-weight-bold: 700;

  /* Sizing and Spacing */
  --border-radius-s: 8px;
  --border-radius-m: 12px;
  --site-max-width: 1200px;
  --transition-speed: 0.3s ease;
}

html {
  scroll-behavior: smooth;
}

body {
  display: flex;
  flex-direction: column;
  min-height: 100vh;
  background: linear-gradient(135deg, var(--dark-bg) 0%, var(--secondary-bg) 100%);
  color: var(--text-primary);
  transition: background var(--transition-speed), color var(--transition-speed);
}

/* Theme Definitions - Simplified to single dark theme */
[data-theme="day"],
[data-theme="night"] {
  --bg-primary: linear-gradient(135deg, var(--dark-bg) 0%, var(--secondary-bg) 100%);
  --bg-secondary: var(--secondary-bg);
  --text-primary: var(--text-primary);
  --text-secondary: var(--text-secondary);
  --border-color: var(--border-color);
}

/* Header & Navigation */
header {
  background: var(--secondary-bg);
  box-shadow: 0 4px 20px rgba(12, 5, 13, 0.3);
  position: sticky;
  top: 0;
  z-index: 1000;
  border-bottom: 1px solid var(--border-color);
  backdrop-filter: blur(10px);
}

.navbar {
  max-width: var(--site-max-width);
  margin: 0 auto;
  padding: 15px 20px;
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.nav-logo {
  text-decoration: none;
  color: var(--primary-color);
  font-weight: var(--font-weight-bold);
  font-size: var(--font-size-m);
  transition: color var(--transition-speed);
}

.nav-logo:hover {
  color: var(--primary-light);
}

.nav-menu {
  list-style: none;
  display: flex;
  align-items: center;
  gap: 25px;
}

.nav-link {
  text-decoration: none;
  color: var(--text-secondary);
  font-weight: var(--font-weight-medium);
  transition: color var(--transition-speed);
  cursor: pointer;
  background: none;
  border: none;
  font-size: var(--font-size-n);
  padding: 8px 12px;
  border-radius: var(--border-radius-s);
}

.nav-link:hover,
.nav-link.active {
  color: var(--primary-color);
  background: rgba(26, 93, 180, 0.1);
}

#menu-open-button,
#menu-close-button {
  display: none;
  font-size: 1.5rem;
  color: var(--text-primary);
  background: transparent;
  border: none;
  cursor: pointer;
}

/* Main Content & Sections */
main {
  flex-grow: 1;
  padding: 40px 20px;
}

.section-content {
  max-width: var(--site-max-width);
  margin: 0 auto;
}

.section-title {
  text-align: center;
  font-size: var(--font-size-xxl);
  color: var(--text-primary);
  margin-bottom: 40px;
  text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
}

/* Footer */
footer {
  background: var(--dark-bg);
  color: var(--text-primary);
  text-align: center;
  padding: 20px;
  margin-top: auto;
  border-top: 1px solid var(--border-color);
}

/*
===============
Legal Pages (Privacy & TOS)
===============
*/
.legal-container {
  max-width: 800px;
  margin: 40px auto;
  padding: 20px 40px;
  background-color: var(--secondary-bg);
  border-radius: var(--border-radius-m);
  color: var(--text-primary);
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
}

.legal-container h2 {
  font-size: 2em;
  color: var(--primary-color);
  border-bottom: 2px solid var(--border-color);
  padding-bottom: 10px;
  margin-bottom: 20px;
}

.legal-container h3 {
  font-size: 1.5em;
  color: var(--text-primary);
  margin-top: 30px;
  margin-bottom: 15px;
}

.legal-container p,
.legal-container li {
  line-height: 1.7;
  font-size: 1em;
  margin-bottom: 15px;
  color: var(--text-secondary);
}

.legal-container ul {
  list-style-type: disc;
  padding-left: 20px;
}

.legal-container ul ul {
  list-style-type: circle;
  margin-top: 10px;
}

.legal-container a {
  color: var(--primary-color);
  text-decoration: none;
  transition: color var(--transition-speed);
}

.legal-container a:hover {
  color: var(--primary-light);
  text-decoration: underline;
}

.legal-container .last-updated {
  font-style: italic;
  color: var(--text-muted);
  margin-top: -15px;
  margin-bottom: 30px;
  font-size: 0.9em;
}

/* Additional styles for the topic selection feature */
.topic-selection-container {
  margin-bottom: 20px;
}

.radio-group {
  display: flex;
  gap: 20px;
  margin-bottom: 15px;
  flex-wrap: wrap;
}

.radio-label {
  display: flex;
  align-items: center;
  gap: 8px;
  cursor: pointer;
  font-weight: var(--font-weight-medium);
  color: var(--text-primary);
  transition: color var(--transition-speed);
}

.radio-label:hover {
  color: var(--primary-color);
}

.radio-label input[type="radio"] {
  width: auto;
  margin: 0;
  cursor: pointer;
  accent-color: var(--primary-color);
}

.topic-input-container {
  transition: all 0.3s ease;
}

.input-help {
  display: block;
  margin-top: 5px;
  font-size: 0.85rem;
  color: var(--text-secondary);
  font-style: italic;
}

#custom-topic {
  margin-bottom: 5px;
}

#custom-topic:invalid {
  border-color: var(--error-color);
  box-shadow: 0 0 0 2px rgba(239, 68, 68, 0.2);
}

#custom-topic:valid {
  border-color: var(--success-color);
  box-shadow: 0 0 0 2px rgba(34, 197, 94, 0.2);
}

/*
===============
Footer Links
===============
*/
.footer-links {
  margin-top: 10px;
  font-size: 0.9em;
}

.footer-links a {
  color: var(--text-muted);
  text-decoration: none;
  margin: 0 10px;
  transition: color var(--transition-speed);
}

.footer-links a:hover {
  color: var(--primary-color);
  text-decoration: underline;
}

.footer-links span {
  color: var(--text-muted);
}

/* Forms (Login, Upload, Feedback) */
.form-page-container {
  display: flex;
  align-items: center;
  justify-content: center;
  min-height: 100vh;
  padding: 20px;
}

.form-container {
  width: 100%;
  max-width: 450px;
  background: var(--secondary-bg);
  padding: 40px;
  border-radius: var(--border-radius-m);
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.4);
  border: 1px solid var(--border-color);
  backdrop-filter: blur(10px);
}

.form-container h1 {
  text-align: center;
  margin-bottom: 30px;
  color: var(--text-primary);
  font-size: var(--font-size-xl);
}

.form-container label {
  display: block;
  margin-bottom: 8px;
  font-weight: var(--font-weight-medium);
  color: var(--text-primary);
}

.form-container input,
.form-container textarea,
.form-container select {
  width: 100%;
  padding: 12px;
  margin-bottom: 20px;
  border: 1px solid var(--border-color);
  border-radius: var(--border-radius-s);
  background: var(--dark-bg);
  color: var(--text-primary);
  font-size: var(--font-size-n);
  transition: all var(--transition-speed);
}

.form-container select option {
  background: var(--secondary-bg);
  color: var(--text-primary);
}

.form-container input:focus,
.form-container textarea:focus,
.form-container select:focus {
  outline: none;
  border-color: var(--primary-color);
  box-shadow: 0 0 0 2px rgba(26, 93, 180, 0.2);
  background: var(--secondary-bg);
}

.form-button {
  width: 100%;
  padding: 12px;
  margin: 10px 0;
  border: none;
  border-radius: var(--border-radius-s);
  cursor: pointer;
  font-size: var(--font-size-n);
  font-weight: var(--font-weight-medium);
  transition: all var(--transition-speed);
}

.form-button-primary {
  background: linear-gradient(135deg, var(--primary-color), var(--primary-light));
  color: var(--text-primary);
  box-shadow: 0 4px 15px rgba(26, 93, 180, 0.3);
}

.form-button-primary:hover:not(:disabled) {
  background: linear-gradient(135deg, var(--primary-hover), var(--primary-color));
  transform: translateY(-2px);
  box-shadow: 0 6px 20px rgba(26, 93, 180, 0.4);
}

.form-button-secondary {
  background: var(--secondary-bg);
  color: var(--text-primary);
  border: 1px solid var(--border-color);
}

.form-button-secondary:hover:not(:disabled) {
  background: var(--tertiary-bg);
  border-color: var(--primary-color);
}

.form-button:disabled {
  opacity: 0.6;
  cursor: not-allowed;
  transform: none;
}

/* Message Containers */
.message-container {
  padding: 15px;
  border-radius: var(--border-radius-s);
  margin-bottom: 20px;
  display: none;
  width: 100%;
  box-sizing: border-box;
  text-align: center;
  border: 1px solid;
}

.success-message {
  color: var(--success-color);
  background-color: var(--success-bg);
  border-color: var(--success-color);
}

.error-message {
  color: var(--error-color);
  background-color: var(--error-bg);
  border-color: var(--error-color);
}

/* Read Page Entry Styles */
.entry {
  background: var(--secondary-bg);
  margin-bottom: 30px;
  padding: 30px;
  border-radius: var(--border-radius-m);
  border-left: 4px solid var(--primary-color);
  animation: fadeInUp 0.5s ease-out;
  position: relative;
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.2);
  transition: all var(--transition-speed);
}

.entry:hover {
  transform: translateY(-2px);
  box-shadow: 0 8px 30px rgba(0, 0, 0, 0.3);
}

.entry-content {
  font-size: var(--font-size-m);
  line-height: 1.7;
  white-space: pre-wrap;
  margin-bottom: 20px;
  color: var(--text-primary);
}

.entry-meta {
  text-align: right;
  font-size: var(--font-size-s);
  color: var(--text-secondary);
  font-style: italic;
  border-top: 1px solid var(--border-color);
  padding-top: 15px;
  margin-top: 20px;
}

/* Admin Delete Button Style */
.delete-btn {
  position: absolute;
  top: 15px;
  right: 15px;
  background: var(--error-color);
  color: var(--text-primary);
  border: none;
  border-radius: 50%;
  width: 30px;
  height: 30px;
  font-size: 1.2rem;
  font-weight: bold;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  line-height: 1;
  transition: all 0.3s ease;
  opacity: 0.7;
}

.entry:hover .delete-btn {
  opacity: 1;
}

.delete-btn:hover {
  background: #dc2626;
  transform: scale(1.1);
}

.password-requirements {
  color: var(--error-color);
}

/* Home Page specific styles */
.hero-section {
  display: flex;
  align-items: center;
  justify-content: center;
  text-align: center;
  padding: 80px 20px;
}

.hero-buttons {
  display: flex;
  justify-content: center;
  flex-wrap: wrap;
  gap: 20px;
  margin-top: 25px;
}

.hero-buttons .button {
  display: inline-block;
  padding: 15px 35px;
  text-decoration: none;
  border-radius: var(--border-radius-s);
  font-weight: var(--font-weight-bold);
  transition: all var(--transition-speed);
  box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
  border: 1px solid transparent;
}

.hero-buttons .button:hover {
  transform: translateY(-3px);
  box-shadow: 0 8px 25px rgba(0, 0, 0, 0.3);
}

.read-here {
  background: linear-gradient(135deg, var(--primary-color), var(--primary-light));
  color: var(--text-primary);
}

.read-here:hover {
  background: linear-gradient(135deg, var(--primary-hover), var(--primary-color));
}

.upload-here {
  background: var(--secondary-bg);
  color: var(--text-primary);
  border-color: var(--border-color);
}

.upload-here:hover {
  background: var(--tertiary-bg);
  border-color: var(--primary-color);
}

.genre-section {
  margin-bottom: 60px;
}

.genre-title {
  font-size: var(--font-size-l);
  color: var(--primary-color);
  margin-bottom: 25px;
  padding-bottom: 10px;
  border-bottom: 2px solid var(--border-color);
}

.genre-section .entry {
  margin-bottom: 25px;
}

/* Styles for Genre Selection View */
.genre-buttons-container {
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
  gap: 20px;
  margin-top: 30px;
}

.genre-button {
  padding: 20px 40px;
  font-size: var(--font-size-m);
  font-weight: var(--font-weight-medium);
  color: var(--text-primary);
  background: linear-gradient(135deg, var(--primary-color), var(--primary-light));
  border: 2px solid var(--primary-color);
  border-radius: var(--border-radius-m);
  cursor: pointer;
  transition: all var(--transition-speed);
  text-align: center;
  position: relative;
  padding-bottom: 35px;
  box-shadow: 0 4px 15px rgba(26, 93, 180, 0.3);
}

.genre-count {
  position: absolute;
  bottom: 8px;
  right: 12px;
  font-size: 0.75rem;
  font-weight: normal;
  background-color: rgba(255, 255, 254, 0.2);
  color: var(--text-primary);
  padding: 4px 8px;
  border-radius: 10px;
  line-height: 1;
}

.genre-button:hover {
  background: linear-gradient(135deg, var(--primary-hover), var(--primary-color));
  transform: translateY(-3px);
  box-shadow: 0 8px 25px rgba(26, 93, 180, 0.4);
}

/* NEW Styles for Entries View Header */
.entries-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  margin-bottom: 20px;
  border-bottom: 2px solid var(--border-color);
  padding-bottom: 20px;
}

.entries-header .section-title {
  flex-grow: 1;
  text-align: center;
  margin-bottom: 0;
}

.back-button {
  background: var(--secondary-bg);
  border: 1px solid var(--border-color);
  color: var(--text-primary);
  padding: 8px 15px;
  border-radius: var(--border-radius-s);
  cursor: pointer;
  font-size: 0.9rem;
  font-weight: var(--font-weight-medium);
  transition: all var(--transition-speed);
}

.back-button:hover {
  background: var(--primary-color);
  color: var(--text-primary);
  border-color: var(--primary-color);
}

/* Genre Header Layout */
.genre-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 30px;
  flex-wrap: wrap;
  gap: 20px;
}

.genre-header .section-title {
  margin-bottom: 0;
  flex-grow: 1;
}

.sorting-controls-header {
  display: flex;
  align-items: center;
  gap: 10px;
  padding: 10px 15px;
  background: var(--secondary-bg);
  border-radius: var(--border-radius-s);
  border: 1px solid var(--border-color);
  flex-shrink: 0;
  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
}

.sort-label {
  font-size: 0.85rem;
  color: var(--text-primary);
  font-weight: var(--font-weight-medium);
  white-space: nowrap;
}

.sort-button {
  padding: 6px 12px;
  font-size: 0.8rem;
  font-weight: var(--font-weight-medium);
  color: var(--text-secondary);
  background: var(--dark-bg);
  border: 1px solid var(--border-color);
  border-radius: var(--border-radius-s);
  cursor: pointer;
  transition: all var(--transition-speed);
  min-width: 60px;
  white-space: nowrap;
}

.sort-button:hover {
  background: var(--primary-color);
  color: var(--text-primary);
  border-color: var(--primary-color);
}

.sort-button.active {
  background: var(--primary-color);
  color: var(--text-primary);
  border-color: var(--primary-color);
  font-weight: var(--font-weight-bold);
  box-shadow: 0 2px 8px rgba(26, 93, 180, 0.3);
}

/* Responsive Design for Mobile Menu */
@media screen and (max-width: 768px) {
  .nav-menu {
    position: fixed;
    top: 0;
    left: -100%;
    width: 70%;
    max-width: 300px;
    height: 100vh;
    flex-direction: column;
    justify-content: center;
    gap: 40px;
    background: var(--secondary-bg);
    box-shadow: 5px 0 25px rgba(0, 0, 0, 0.4);
    transition: left 0.4s ease-in-out;
    z-index: 1100;
    border-right: 1px solid var(--border-color);
  }

  .nav-menu.active {
    left: 0;
  }

  .nav-menu.active .nav-link {
    color: var(--text-primary);
    font-size: 1.2rem;
  }

  #menu-open-button {
    display: block;
  }

  #menu-close-button {
    display: block;
    position: absolute;
    top: 20px;
    right: 20px;
  }

  .radio-group {
    flex-direction: column;
    gap: 10px;
  }

  .genre-header {
    flex-direction: column;
    align-items: center;
    text-align: center;
    gap: 15px;
  }

  .genre-header .section-title {
    text-align: center;
  }

  .sorting-controls-header {
    order: 2;
  }

  .section-content {
    padding: 0 10px;
  }

  .section-title {
    font-size: var(--font-size-xl);
    margin-bottom: 25px;
  }

  .genre-buttons-container {
    gap: 15px;
    margin-top: 20px;
  }

  .genre-button {
    padding: 15px 25px;
    font-size: var(--font-size-s);
    min-width: 120px;
    max-width: 100%;
  }

  .entries-header {
    flex-direction: column;
    gap: 15px;
    text-align: center;
  }

  .entries-header .section-title {
    margin-bottom: 0;
  }

  .back-button {
    align-self: flex-start;
  }
}

/* Tablet responsive adjustments */
@media screen and (max-width: 1024px) and (min-width: 769px) {
  .genre-buttons-container {
    gap: 18px;
  }

  .genre-button {
    padding: 18px 30px;
    font-size: var(--font-size-s);
  }
}

@keyframes fadeInUp {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* Remove old sorting controls styles */
.sorting-controls {
  display: none !important;
}

/* Additional polish and modern touches */
* {
  scrollbar-width: thin;
  scrollbar-color: var(--primary-color) var(--secondary-bg);
}

*::-webkit-scrollbar {
  width: 8px;
}

*::-webkit-scrollbar-track {
  background: var(--secondary-bg);
}

*::-webkit-scrollbar-thumb {
  background: var(--primary-color);
  border-radius: 4px;
}

*::-webkit-scrollbar-thumb:hover {
  background: var(--primary-light);
}

/* Selection styling */
::selection {
  background: var(--primary-color);
  color: var(--text-primary);
}

::-moz-selection {
  background: var(--primary-color);
  color: var(--text-primary);
}
